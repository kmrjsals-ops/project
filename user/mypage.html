<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Page</title>
  <!-- reset.css -->
  <link rel="stylesheet" href="../css/reset.css" type="text/css">
  <!-- 폰트어썸 cdn -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
  <!-- 부트스트랩 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css">
  <!-- 레이아웃 서식 (헤더,푸터)-->
  <link rel="stylesheet" href="../css/layout.css" type="text/css">
  <!-- 마이페이지 서식 -->
  <link rel="stylesheet" href="../css/mypage.css" type="text/css">
  
</head>
<body>
  <!-- 헤더 영역 시작 -->
  <header></header>

  <!-- 메인 영역 시작 -->
  <main class="container-fluid py-5 my-5">
    <h2 class="text-center mb-5">MY PAGE</h2>
    <div class="row">
      <div class="col-12 col-md-3">
        <!-- 좌측 네비게이션 -->
        <nav class="mypage-nav d-none d-lg-block">
          <ul class="list-unstyled list-unstyled gap-5 m-0">
            <li><a href="#info" title="내 정보" class="active_nav">내 정보</a></li>
            <li><a href="./register.html" title="정보 수정">내 정보 수정</a></li>
            <li><a href="#my_writing" title="내가 쓴 글">내가 쓴 글</a></li>
            <li><a href="#inquiries" title="문의 내역">문의 내역</a></li>
            <li><a href="#" title="탈퇴하기" onclick="leaveFunction()" class="leave">탈퇴하기</a></li>
          </ul>
        </nav>
      </div>

      <div class="col-12 col-md-9 px-lg-5 my_page">
        
        <!-- 1. 내정보 섹션 -->
        <section id="info" class="mypage-section p-md-5 mb-5 shadow ">
          <h3 class="section-title">내 정보</h3>
          <!-- 프로필 이미지 -->
          <div class="d-flex justify-content-center mb-5">
            <div class="profile-img-container rounded-circle">
              <img src="../images/user_admin/img_upload.png" alt="프로필 이미지" class="profile-img rounded-circle p_img">
            </div>
          </div>
          <!-- 정보 테이블  -->
          <div class="info-table-wrapper">
            <form action="#" method="POST">
              <table class="table table-borderless info-table w-50 mx-auto">
                <tbody>
                  <tr>
                    <th class="text-end">이름</th>
                    <td class="text-start">김승태</td>
                  </tr>
                  <tr>
                    <th class="text-end">전화번호</th>
                    <td class="text-start">010-8282-3333</td>
                  </tr>
                  <tr>
                    <th class="text-end">닉네임</th>
                    <td class="text-start">코드깍는노인</td>
                  </tr>
                  <tr>
                    <th class="text-end">아이디</th>
                    <td class="text-start">oldman</td>
                  </tr>
                  <tr>
                    <th class="text-end">이메일</th>
                    <td class="text-start">icuttingelder@gmail.com</td>
                  </tr>
                </tbody>
              </table>
            </form>
          </div>
        </section>
        
        <!-- 2. 내가 쓴 글 섹션 -->
        <section id="my_writing" class="mypage-section p-4 p-md-5 mb-5 shadow-lg">
          <h3 class="section-title">내가 쓴 글</h3>
          <div class="table-responsive">

            <!-- 내가 쓴 글 테이블 -->
            <table class="table table-hover text-center align-middle writing-table">
              <thead class="table-dark">
                <tr><th>No.</th><th>제목</th><th>작성일</th><th>조회</th></tr>
              </thead>
              <!-- tr*20>td{$}+{td>a{제목$ 블라블라 !@#!@#}}+td{작성일$}+td{조회수$} -->
              <tbody>
                <tr>
                  <td>1</td>
                  <td><a href="#" title="">제목1 블라블라 !@#!@#</a></td>
                  <td>작성일1</td>
                  <td>조회수1</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- 페이지네이션 pagination -->
          <div class="page_wrap">
            <ul class="pagination_modal">
              <li><a href="#" class="left arrow"><i class="fa-solid fa-angle-left"></i></a></li> 
              <li><a href="#" class="num active_num">1</a></li>
              <li><a href="#" class="num">2</a></li>
              <li><a href="#" class="num">3</a></li>
              <li><a href="#" class="num">4</a></li>
              <li><a href="#" class="num">5</a></li>
              <li><a href="#" class="num">6</a></li>
              <li><a href="#" class="num">7</a></li>
              <li><a href="#" class="num">8</a></li>
              <li><a href="#" class="num">9</a></li>
              <li><a href="#" class="num">10</a></li> <li><a href="#" class="right arrow"><i class="fa-solid fa-angle-right"></i></a></li>
            </ul>
          </div>
        </section>
      
        <!-- 3. 문의 내역 섹션 -->
        <section id="inquiries" class="mypage-section p-4 p-md-5 mb-5 shadow-lg">
          <h3 class="section-title">문의 내역</h3>
          <div class="table-responsive more_frame">

            <!-- 문의하기 버튼 -->
            <div class="btn_wrap">
              <button type="button" class="btn_inquiries">문의하기</button>
            </div>

            <!-- 문의 테이블 -->
            <table class="table table-hover text-center align-middle inquiry-table">
              <thead class="table-dark">
                <tr><th>No.</th><th>제목</th><th>작성일</th><th>처리상태</th><th></th></tr>
                </thead>
                <!-- tr*20>td{$}+td{제목$ 블라블라 !@#!@#}+td{작성일$}+td{처리상태$}+td>i{.fa-solid.fa-sort-down} -->
                <tbody>
                  <tr class="question">
                    <td>1</td>
                    <td>제목1 블라블라 !@#!@#</td>
                    <td>작성일1</td>
                    <td>처리상태1</td>
                    <td><i class="fa-solid fa-sort-down"></i></td>
                  </tr>
                  <tr class="answer text-start"><td colspan='5'>답변1</td></tr>
                </tbody>
              </table>
          </div>

          <!-- 페이지네이션 pagination -->
          <div class="page_wrap">
            <ul class="pagination_modal">
              <li><a href="#" class="left arrow"><i class="fa-solid fa-angle-left"></i></a></li> 
              <li><a href="#" class="num active_num">1</a></li>
              <li><a href="#" class="num">2</a></li>
              <li><a href="#" class="num">3</a></li>
              <li><a href="#" class="num">4</a></li>
              <li><a href="#" class="num">5</a></li>
              <li><a href="#" class="num">6</a></li>
              <li><a href="#" class="num">7</a></li>
              <li><a href="#" class="num">8</a></li>
              <li><a href="#" class="num">9</a></li>
              <li><a href="#" class="num">10</a></li> <li><a href="#" class="right arrow"><i class="fa-solid fa-angle-right"></i></a></li>
            </ul>
          </div>
        </section>
      </div>
    </div>
  </main>

  <!-- 푸터 영역 시작 -->
  <footer></footer>

  <!-- javascript -->
  <script>
    //탈퇴 알림창
    function leaveFunction() {alert('탈퇴하시겠습니까?');}

    document.addEventListener('DOMContentLoaded', () => {
      // 좌측nav - 선택섹션 제외 숨기기
      const sections = document.querySelectorAll('.my_page .mypage-section'); // 1. 추가 - 모든 마이페이지 섹션 요소 가져오기
      sections.forEach(section => {
        // 2. 초기화 - 초기 로드 시 '내 정보' 섹션 외 모두 숨김(한 번 실행)
        if (section.id !== 'info') {
          section.style.display = 'none';
        }
      });

      // 좌측nav - 클릭 효과
      const navLinks = document.querySelectorAll('.mypage-nav a');
        navLinks.forEach(link => {
          if (link.getAttribute('href') !== './login.html') { // '내 정보 수정' 제외
            link.addEventListener('click', function(event) {
              event.preventDefault(); // 기본 스크롤 동작 방지

              // 기존 active 클래스 제거 및 클릭된 요소에 active 클래스 추가 (기존 로직 유지)
              navLinks.forEach(l => l.classList.remove('active_nav'));
              this.classList.add('active_nav');
              
              // 페이지 스크롤 이동 (href="#id" 동작 유지)
              const targetId = this.getAttribute('href').substring(1);
  
              sections.forEach(section => {
                if (section.id === targetId) {
                  // 클릭된 대상 섹션은 보이도록 처리
                  section.style.display = 'block'; 
                } else {
                  // 나머지 섹션은 숨김 처리
                  section.style.display = 'none';
                }
              });

              // 최상단으로 스크롤 이동 (선택 사항: 섹션이동 효과를 명확히 하기 위해)
              window.scrollTo({ top: 0, behavior: 'smooth'});
          });
        }
      });

      // 아코디언 기능 (문의 내역)
      const questionRows = document.querySelectorAll('.inquiry-table tr.question');
      questionRows.forEach(row => {
        row.addEventListener('click', function() {
          const answerRow = this.nextElementSibling;
          const icon = this.querySelector('.fa-sort-down');

          if (answerRow && answerRow.classList.contains('answer')) {
            if (answerRow.style.display === 'table-row') {
              // 현재 열려 있다면 닫기
              answerRow.style.display = 'none';
              this.classList.remove('active');
              if (icon) icon.classList.remove('active');
            } else {
              // 현재 닫혀 있다면 열기
              answerRow.style.display = 'table-row';
              this.classList.add('active');
              if (icon) icon.classList.add('active');
            }
          }
        });
      });

    });

  </script>
</body>
</html>